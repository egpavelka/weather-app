<!DOCTYPE html>
<html lang="en" ng-app="weatherApp">

<head>
    <meta charset="UTF-8">
    	<meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>e.g. pavelka || weather</title>
    <!-- STYLES -->
    <!-- bootstrap -->
        <link rel="stylesheet" href="stylesheets/ui-bootstrap-custom-2.2.0-csp.css">
    <!-- Local style -->
    <link rel="stylesheet" type="text/css" href="stylesheets/styles.min.css">
    <!-- SCRIPTS -->
    <!-- Google Analytics -->
    <script>
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-42646629-2', 'auto');
		ga('send', 'pageview');
	</script>
<!-- jQuery -->
<script src="bower_components/jquery/dist/jquery.js"></script>
<!-- Angular -->
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-touch/angular-touch.min.js"></script>
  <script src="bower_components/angular-animate/angular-animate.js"></script>
  <script src="scripts/ui-bootstrap-custom-2.2.0.js"></script>
  <script src="scripts/ui-bootstrap-custom-tpls-2.2.0.js"></script>
  <!-- Google Maps -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAH_JegEmVYDzTPCNhqp2au7vt5GbZ_DTY&libraries=places"></script>
  <!-- This app -->
  <script src="app.js"></script>
</head>

<body ng-controller="weatherController" ng-init="geolocation()" ng-style="{'background-image':'url(img/'+current.weather[0].icon+'.jpg)'}">

    <!-- NAVIGATION BAR -->

    <div class="navigation-bar">
        <div class="location">
                <span class="detect-location-icon"><img src="icon/detect.png" ng-click="geolocation()" title="Use current location"/></span>
                <span class="city-search">
                  <input ng-model="chosenPlace" details="chosenPlaceDetails" googleplace/>
                </span>
        </div>
        <div class="scale">
            <span class="scale-type active" id="temp-far" ng-click="switchToF()">fahrenheit</span>
            <span class="scale-type inactive" id="temp-cel" ng-click="switchToC()">celsius</span>
        </div>
    </div>

<!-- DISPLAY WEATHER -->
    <div id="container" class="container">
            <div id="inner-container" class="container inner" ng-cloak>

                <!-- current conditions -->
                <div class="current">
                  <div class = "city-name">
                    {{ current.name }}
                  </div>
                  <div class="icon"><img ng-src="icon/{{ current.weather[0].icon }}.png" />
                  </div>
                    <div class="temp">{{ current.main.temp | convertTemp: scale }}</div>
                    <div class="cond">{{ current.weather[0].description }}</div>

                </div>

                <!-- hourly forecast -->
                <div class="hourly" ng-controller="hourlyCarouselCtrl">

                    <div class="day-overview">
                        <div class="day">{{ daily.list[0].dt*1000 | date: 'EEEE, MMMM dd' }}</div>
                        <div class="temp">
                            <span class="high">{{ daily.list[0].temp.max | convertTemp: scale }}</span>
                            <span class="low">{{ daily.list[0].temp.min | convertTemp: scale }}</span>
                        </div>
                    </div>

<div uib-carousel active="active" class="carousel list">
  <!-- Container slide: contains 3 forecasts -->
  <div uib-slide ng-repeat="hour in hourly.list | limitTo:9">
<!-- First slide item -->
    <div class="list-entry">
      <div class="time">{{ hour.dt*1000 | date: 'h a'}}</div>
      <div class="icon"><img ng-src="icon/{{ hour.weather[0].icon }}.png" /></div>
      <div class="temp">{{ hour.main.temp | convertTemp: scale }}</div>
      <div class="cond">{{ hour.weather[0].description }}</div>
  </div>
  <!-- Second slide item -->
      <div class="list-entry">
        <div class="time">{{ hour[$index+1].dt*1000 | date: 'h a'}}</div>
        <div class="icon"><img ng-src="icon/{{ hour[$index+1].weather[0].icon }}.png" /></div>
        <div class="temp">{{ hour[$index+1].main.temp | convertTemp: scale }}</div>
        <div class="cond">{{ hour[$index+1].weather[0].description }}</div>
    </div>
    <!-- Third slide item -->
        <div class="list-entry">
          <div class="time">{{ hour[$index+2].dt*1000 | date: 'h a'}}</div>
          <div class="icon"><img ng-src="icon/{{ hour[$index+2].weather[0].icon }}.png" /></div>
          <div class="temp">{{ hour[$index+2].main.temp | convertTemp: scale }}</div>
          <div class="cond">{{ hour[$index+2].weather[0].description }}</div>
      </div>
  </div>
</div>
                </div>

                <!-- 5-day forecast -->
                <div class="daily">
                    <div class="list">
                        <div class="list-entry" ng-repeat="day in daily.list | limitTo:6" ng-if="$index > 0">
                            <div class="day">
                                {{ day.dt*1000 | date: 'EEEE'}}
                            </div>
                            <div class="icon"><img ng-src="icon/{{ day.weather[0].icon }}.png" /></div>
                            <div class="temp">
                                <span class="high">{{ day.temp.max | convertTemp: scale }}</span>
                                <span class="low">{{ day.temp.min | convertTemp: scale }}</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

    </div>

<!-- DISPLAY ERRORS -->
  <div class="error loading">
    <div class="err-header">
      Loading...
    </div>
    <div class="err-text">

    </div>
  </div>
</body>

</html>
